{"version":3,"sources":["apis.js","contexts/AuthContext.js","router/PrivateRoute.js","layouts/MainLayout.js","pages/Home.js","pages/Login.js","pages/Register.js","containers/ImageDropzone.js","containers/PlaceForm.js","pages/Places.js","containers/MenuItemForm.js","components/MenuItem.js","components/QRCode.js","components/OperationButton.js","components/QRCodeModal.js","pages/Place.js","components/MenuList.js","containers/PaymentForm.js","components/ShoppingCart.js","pages/Menu.js","components/Order.js","pages/Orders.js","pages/MenuSettings.js","router/App.js","index.js"],"names":["request","path","_ref","_ref$data","data","_ref$token","token","_ref$method","method","fetch","headers","Authorization","concat","body","JSON","stringify","then","response","ok","json","status","errors","Object","keys","map","k","join","Error","catch","e","name","statusText","toast","message","type","signIn","username","password","register","fetchPlace","id","updatePlace","AuthContext","createContext","AuthProvider","children","_useState","useState","localStorage","getItem","_useState2","_slicedToArray","setToken","_useState3","_useState4","loading","setLoading","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","callback","wrap","_context","prev","next","signInApi","sent","console","log","auth_token","setItem","stop","_x","_x2","_x3","apply","arguments","_ref3","_callee2","_context2","registerApi","_x4","_x5","_x6","value","signOut","removeItem","_jsx","Provider","PrivateRoute","rest","_objectWithoutProperties","_excluded","auth","useContext","Route","_objectSpread","render","location","Redirect","to","pathname","state","from","MainLayout","history","useHistory","_jsxs","_Fragment","Navbar","bg","variant","className","Brand","href","Nav","Link","onClick","push","replace","Container","Home","Jumbotron","Row","Col","md","Button","size","Image","src","rounded","fluid","Login","setUsername","setPassword","useEffect","lg","Card","Body","Form","Group","Label","Control","placeholder","onChange","target","block","disabled","Spinner","as","animation","role","Register","Dropzone","styled","div","_templateObject","_taggedTemplateLiteral","ImageDropzone","onDrop","useCallback","acceptedFiles","image","formData","FormData","append","uploadImage","url","finally","_useDropzone","useDropzone","multiple","accept","getRootProps","getInputProps","PlaceForm","onDone","setName","setImage","Place","AddPlaceButton","_templateObject2","Places","places","setPlaces","show","setShow","onHide","onFetchPlaces","Modal","centered","place","style","backgroundImage","MenuItemForm","_place$categories","_ref$item","item","categoryName","setCategoryName","categoryFormShow","setCategoryFormShow","_useState5","category","_useState6","setCategory","_useState7","_useState8","_useState9","price","_useState10","setPrice","_useState11","description","_useState12","setDescription","_useState13","_useState14","_useState15","undefined","is_available","_useState16","isAvailable","setIsAvailable","useRef","onAddCategory","onAddMenuItems","onUpdateMenuItem","_ref4","_callee3","_context3","categories","c","ref","RiPlayListAddFill","Overlay","current","placement","rootClose","Popover","Title","Content","Check","label","checked","active","MenuItem","onEdit","onRemove","onOrder","color","xs","BiEdit","AiOutlineDelete","backgroundColor","quantity","ComponentToPrint","_templateObject3","QRCode","table","placeId","componentRef","handlePrint","useReactToPrint","content","window","origin","QRCodeReact","AiOutlineLink","display","OperationButton","QRCodeModal","onUpdatePlace","number_of_tables","Array","length","_","i","Panel","setPlace","menuItemFormShow","setMenuItemFormShow","selectedItem","setSelectedItem","qrCode","setQrCode","hideModal","params","useParams","onBack","onFetchPlace","onRemoveCategory","confirm","removeCategory","onRemoveMenuItem","removeMenuItem","IoMdArrowBack","AiOutlineQrcode","RiFileList3Line","FiSettings","menu_items","tables","font","MenuList","_ref2$shoppingCart","shoppingCart","_ref2$font","_ref2$color","width","height","filter","_shoppingCart$item$id","PaymentForm","amount","items","stripe","useStripe","elements","useElements","onSubmit","event","_yield$stripe$createP","error","paymentMethod","preventDefault","createPaymentMethod","card","getElement","CardElement","payment_method","detail","success","order","options","hidePostalCode","stripePromise","loadStripe","StripeContext","props","Elements","ShoppingCart","onAdd","onPaymentDone","totalPrice","useMemo","reduce","a","b","OrderButton","Menu","setShoppingCart","showShoppingCart","setShowShoppingCart","onAddItemtoShoppingCart","_defineProperty","totalQuantity","key","_shoppingCart$item$id2","IoCloseOutline","Order","onComplete","Header","parse","borderRadius","margin","Orders","_orders$filter","orders","setOrders","onFetchOrders","onCompleteOrder","orderId","interval","setInterval","clearInterval","MenuSettings","setFont","setColor","ChromePicker","hex","disableAlpha","App","BrowserRouter","Switch","exact","ToastContainer","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.18385e3e.chunk.js","sourcesContent":["import { toast } from 'react-toastify';\r\n\r\nfunction request(path, { data = null, token = null, method = \"GET\" }) {\r\n  return fetch(path, {\r\n    method,\r\n    headers: {\r\n      Authorization: token ? `Token ${token}` : \"\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: method !== \"GET\" && method !== \"DELETE\" ? JSON.stringify(data) : null,\r\n  })\r\n  .then((response) => {\r\n\r\n    // If it is success\r\n    if(response.ok) {\r\n      if (method === \"DELETE\") {\r\n        // If delete, nothing return\r\n        return true;\r\n      }\r\n      return response.json();\r\n    }\r\n\r\n    // Otherwise, if there are errors\r\n    return response\r\n      .json()\r\n      .then((json) => {\r\n        // Handle JSON error, response by the server\r\n\r\n        if (response.status === 400) {\r\n          const errors = Object.keys(json).map(\r\n            (k) => `${(json[k].join(\" \"))}`\r\n          );\r\n          throw new Error(errors.join(\" \"));\r\n        }\r\n        throw new Error(JSON.stringify(json));\r\n      })\r\n      .catch((e) => {\r\n        if (e.name === \"SyntaxError\") {\r\n          throw new Error(response.statusText);\r\n        }\r\n        throw new Error(e);\r\n      })\r\n  })\r\n  .catch((e) => {\r\n    // Handle all errors\r\n    toast(e.message, {type: \"error\"});\r\n  })\r\n\r\n\r\n}\r\n\r\nexport function signIn(username, password) {\r\n  return request(\"/auth/token/login/\", {\r\n    data: {username, password},\r\n    method: \"POST\",\r\n  })\r\n}\r\n\r\nexport function register(username, password) {\r\n  return request(\"/auth/users/\", {\r\n    data: {username, password},\r\n    method: \"POST\",\r\n  })\r\n}\r\n\r\nexport function fetchPlaces(token) {\r\n  return request(\"/api/places/\", {token});\r\n}\r\n\r\nexport function addPlace(data, token) {\r\n  return request(\"/api/places/\", { data, token, method: \"POST\" });\r\n}\r\n\r\nexport function uploadImage(image) {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", image);\r\n  formData.append(\"upload_preset\", \"qrmenu_photos\");\r\n\r\n  return fetch(\"https://api.cloudinary.com/v1_1/dtb7kciiu/image/upload\", {\r\n    method: \"POST\",\r\n    body: formData,\r\n  }).then((response) => {\r\n    return response.json();\r\n  });\r\n}\r\n\r\nexport function fetchPlace(id, token) {\r\n  return request(`/api/places/${id}`, { token });\r\n}\r\n\r\nexport function addCategory(data, token) {\r\n  return request(\"/api/categories/\", { data, token, method: \"POST\" });\r\n}\r\n\r\nexport function addMenuItems(data, token) {\r\n  return request(\"/api/menu_items/\", { data, token, method: \"POST\" });\r\n}\r\n\r\nexport function updateMenuItem(id, data, token) {\r\n  return request(`/api/menu_items/${id}`, { data, token, method: \"PATCH\" });\r\n}\r\n\r\nexport function removePlace(id, token) {\r\n  return request(`/api/places/${id}`, { token, method: \"DELETE\" });\r\n}\r\n\r\nexport function removeCategory(id, token) {\r\n  return request(`/api/categories/${id}`, { token, method: \"DELETE\" });\r\n}\r\n\r\nexport function removeMenuItem(id, token) {\r\n  return request(`/api/menu_items/${id}`, { token, method: \"DELETE\" });\r\n}\r\n\r\nexport function updatePlace(id, data, token) {\r\n  return request(`/api/places/${id}`, { data, token, method: \"PATCH\" });\r\n}\r\n\r\nexport function createPaymentIntent(data, token) {\r\n  return request(\"/api/create_payment_intent/\", { data, token, method: \"POST\" });\r\n}\r\n\r\nexport function fetchOrders(placeId, token) {\r\n  return request(`/api/orders/?place=${placeId}`, { token });\r\n}\r\n\r\nexport function completeOrder(id, data, token) {\r\n  return request(`/api/orders/${id}`, { data, token, method: \"PATCH\" });\r\n}","import React, { createContext, useState } from 'react';\r\n\r\nimport {signIn as signInApi, register as registerApi} from '../apis';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\"));\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const signIn = async (username, password, callback) => {\r\n    setLoading(true);\r\n    const response = await signInApi(username, password);\r\n    console.log(\"response\", response);\r\n\r\n    if (response && response.auth_token) {\r\n      localStorage.setItem(\"token\", response.auth_token);\r\n      setToken(response.auth_token);\r\n      callback();\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem(\"token\");\r\n    setToken(\"\");\r\n  }\r\n\r\n  const register = async (username, password, callback) => {\r\n    setLoading(true);\r\n    const response = await registerApi(username, password);\r\n    if (response && response.id) {\r\n      callback();\r\n    }\r\n    setLoading(false);\r\n  }\r\n\r\n  const value = {\r\n    token,\r\n    loading,\r\n    signIn,\r\n    signOut,\r\n    register,\r\n  }\r\n\r\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>\r\n};\r\n\r\nexport default AuthContext;\r\n\r\n","import { Route, Redirect } from \"react-router-dom\";\r\nimport React, { useContext } from \"react\";\r\n\r\nimport AuthContext from \"../contexts/AuthContext\";\r\n\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        auth.token ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import { Navbar, Nav, Container } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useContext } from 'react';\r\n\r\nimport AuthContext from '../contexts/AuthContext';\r\n\r\nconst MainLayout = ({ children }) => {\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const onSignIn = () => {\r\n    history.replace(\"/login\");\r\n  }\r\n\r\n  const onRegister = () => {\r\n    history.replace(\"/register\");\r\n  }\r\n\r\n  const onSignOut = () => {\r\n    auth.signOut();\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  const goToPlaces = () => {\r\n    history.push(\"/places\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Navbar bg=\"light\" variant=\"light\" className=\"mb-4\">\r\n        <Navbar.Brand href=\"/\">QR Menu</Navbar.Brand>\r\n        \r\n        <Nav>\r\n          <Nav.Link onClick={goToPlaces}>Places</Nav.Link>\r\n        </Nav>\r\n        \r\n        <Nav className=\"flex-grow-1 justify-content-end\">\r\n          {auth.token ? (\r\n            <Nav.Link onClick={onSignOut}>Logout</Nav.Link>\r\n          ) : (\r\n            [\r\n              <Nav.Link key={1} onClick={onSignIn}>Login</Nav.Link>,\r\n              <Nav.Link key={2} onClick={onRegister}>Register</Nav.Link>\r\n            ]\r\n          )}\r\n          \r\n        </Nav>\r\n      </Navbar>\r\n      <Container>\r\n        {children}\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MainLayout;","import { Button, Jumbotron, Container, Row, Col, Image } from 'react-bootstrap';\r\nimport React from 'react';\r\nimport MainLayout from '../layouts/MainLayout';\r\n\r\nconst Home = () => (\r\n  <MainLayout>\r\n    <Jumbotron className=\"bg-light\">\r\n      <Container>\r\n        <Row>\r\n          <Col md={6} className=\"my-auto\">\r\n            <h1><b>QR Code Menu</b></h1>\r\n            <h5 className=\"mt-4 mb-4\">\r\n              A smart way to share your digital menu in a QR Code with your customers\r\n            </h5>\r\n            <br/>\r\n            <Button href=\"/places\" variant=\"standard\" size=\"lg\">\r\n              Create Your Menu\r\n            </Button>\r\n          </Col>\r\n          <Col md={6}>\r\n            <Image src=\"https://assets.materialup.com/uploads/ae60e834-349c-4c94-8189-2450f09ad37a/preview.gif\" rounded fluid />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Jumbotron>\r\n  </MainLayout>\r\n  //comment test\r\n);\r\n\r\nexport default Home;","import { Button, Col, Form, Row, Card, Spinner } from \"react-bootstrap\"\r\nimport { React, useState, useEffect, useContext  } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { signIn } from '../apis';\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport AuthContext from '../contexts/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      history.replace('/places');\r\n    }\r\n  });\r\n\r\n  const onClick = () => {\r\n    auth.signIn(username, password, () => history.replace(\"/places\"));\r\n  };\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Row className=\"justify-content-center\">\r\n        <Col lg={6} md={8}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h3 className=\"text-center\">\r\n                <b>LOGIN</b>\r\n              </h3>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control \r\n                  type=\"text\" \r\n                  placeholder=\"Enter Username\" \r\n                  value={username} \r\n                  onChange={(e) => setUsername(e.target.value)} \r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control \r\n                  type=\"password\" \r\n                  placeholder=\"Enter Password\" \r\n                  value={password} \r\n                  onChange={(e) => setPassword(e.target.value)} \r\n                />\r\n              </Form.Group>\r\n\r\n              <Button variant=\"standard\" block onClick={onClick} disabled={auth.loading}>\r\n                {\r\n                  auth.loading ? (\r\n                    <Spinner \r\n                      variant=\"standard\"\r\n                      as=\"span\"\r\n                      animation=\"border\"\r\n                      size=\"sm\"\r\n                      role=\"status\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                  ) : (\r\n                    \"Sign In\"\r\n                  )\r\n                }\r\n              </Button>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n      </Row>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\n\r\nexport default Login;","import { Button, Col, Form, Row, Card, Spinner } from \"react-bootstrap\"\r\nimport { React, useState, useEffect, useContext  } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { signIn } from '../apis';\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport AuthContext from '../contexts/AuthContext';\r\n\r\nconst Register = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      history.replace('/places');\r\n    }\r\n  });\r\n\r\n  const onClick = () => {\r\n    auth.register(username, password, () => history.replace(\"/places\"));\r\n  };\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Row className=\"justify-content-center\">\r\n        <Col lg={6} md={8}>\r\n          <Card>\r\n            <Card.Body>\r\n              <h3 className=\"text-center\">\r\n                <b>REGISTER</b>\r\n              </h3>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Username</Form.Label>\r\n                <Form.Control \r\n                  type=\"text\" \r\n                  placeholder=\"Enter Username\" \r\n                  value={username} \r\n                  onChange={(e) => setUsername(e.target.value)} \r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group>\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control \r\n                  type=\"password\" \r\n                  placeholder=\"Enter Password\" \r\n                  value={password} \r\n                  onChange={(e) => setPassword(e.target.value)} \r\n                />\r\n              </Form.Group>\r\n\r\n              <Button variant=\"standard\" block onClick={onClick} disabled={auth.loading}>\r\n                {\r\n                  auth.loading ? (\r\n                    <Spinner \r\n                      variant=\"standard\"\r\n                      as=\"span\"\r\n                      animation=\"border\"\r\n                      size=\"sm\"\r\n                      role=\"status\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                  ) : (\r\n                    \"Register\"\r\n                  )\r\n                }\r\n              </Button>\r\n            </Card.Body>\r\n          </Card>\r\n        </Col>\r\n\r\n      </Row>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\n\r\nexport default Register;","import { Spinner } from 'react-bootstrap';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport React, { useCallback, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { uploadImage } from '../apis';\r\n\r\nconst Dropzone = styled.div`\r\n  border: 1px dashed #ced4d9;\r\n  border-radius: 5px;\r\n  color: #6c757d;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 142px;\r\n  img {\r\n    height: 140px;\r\n  }\r\n`;\r\n\r\nfunction ImageDropzone({ value, onChange }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const onDrop = useCallback((acceptedFiles) => {\r\n    console.log(acceptedFiles);\r\n\r\n    setLoading(true);\r\n    uploadImage(acceptedFiles[0])\r\n      .then((json) => onChange(json.url))\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  const {getRootProps, getInputProps} = useDropzone({\r\n    onDrop,\r\n    multiple: false,\r\n    accept: 'image/*',\r\n  });\r\n\r\n  return (\r\n    <Dropzone {...getRootProps()}>\r\n      <input {...getInputProps()} />\r\n      {\r\n        value ? (\r\n          <img src={value} />\r\n        ) : loading ? (\r\n          <Spinner variant=\"standard\" animation=\"border\" role=\"staus\" />\r\n        ) : (\r\n          <span>Drag & drop file here, or click to select file</span>\r\n        )\r\n      }\r\n    </Dropzone>\r\n  )\r\n}\r\n\r\nexport default ImageDropzone;","import { Form, Button } from \"react-bootstrap\";\r\nimport React, { useState, useContext } from \"react\";\r\n\r\nimport { addPlace } from \"../apis\";\r\nimport AuthContext from \"../contexts/AuthContext\";\r\n\r\nimport ImageDropzone from \"./ImageDropzone\";\r\n\r\nconst PlaceForm = ({ onDone }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const onClick = async () => {\r\n    const json = await addPlace({ name, image }, auth.token);\r\n    if (json) {\r\n      setName(\"\");\r\n      setImage(\"\");\r\n      onDone();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h4 className=\"text-center\">Place</h4>\r\n      <Form.Group>\r\n        <Form.Label>Name</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"Enter Name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group>\r\n        <Form.Label>Image</Form.Label>\r\n        <ImageDropzone value={image} onChange={setImage} />\r\n      </Form.Group>\r\n      <Button variant=\"standard\" block onClick={onClick}>\r\n        Add\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaceForm;\r\n","import { Row, Col, Modal} from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { fetchPlaces } from '../apis';\r\nimport AuthContext from '../contexts/AuthContext';\r\n\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport PlaceForm from '../containers/PlaceForm';\r\n\r\nconst Place = styled.div`\r\n  margin-bottom: 20px;\r\n  cursor: pointer;\r\n  transition: all 0.2s;\r\n  :hover {\r\n    transform: scale(1.05);\r\n  }\r\n  > div {\r\n    background-size: cover;\r\n    height: 200px;\r\n    border-radius: 5px;\r\n  }\r\n  > p {\r\n    margin-top: 5px;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n`;\r\n\r\nconst AddPlaceButton = styled.div`\r\n  border: 1px dashed gray;\r\n  height: 200px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  background-color: white;\r\n  :hover {\r\n    background-color: #fbfbfb;\r\n  }\r\n`;\r\n\r\nconst Places = () => {\r\n  const [places, setPlaces] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const auth = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const onHide = () => setShow(false);\r\n  const onShow = () => setShow(true);\r\n\r\n  const onFetchPlaces = async () => {\r\n    const json = await fetchPlaces(auth.token);\r\n    if (json) {\r\n      setPlaces(json);\r\n    }\r\n  };\r\n\r\n  const onDone = () => {\r\n    onFetchPlaces();\r\n    onHide();\r\n  }\r\n\r\n  useEffect(() => {\r\n    onFetchPlaces();\r\n  }, []);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <h3>My Places</h3>\r\n\r\n      <Modal show={show} onHide={onHide} centered>\r\n        <Modal.Body>\r\n          <PlaceForm onDone={onDone} />\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      <Row>\r\n        {places.map((place) => (\r\n          <Col key={place.id} lg={4}>\r\n            <Place onClick={() => history.push(`/places/${place.id}`)}>\r\n              <div style={{ backgroundImage: `url(${place.image})` }}></div>\r\n              <p>{place.name}</p>\r\n            </Place>\r\n          </Col>\r\n        ))}\r\n        <Col lg={4}>\r\n          <AddPlaceButton onClick={onShow}>Add New Place</AddPlaceButton>\r\n        </Col>\r\n      </Row>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default Places;","import React, { useState, useContext, useRef } from 'react';\r\nimport { Button, Form, Popover, Overlay } from 'react-bootstrap';\r\nimport { RiPlayListAddFill } from 'react-icons/ri';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { addCategory, addMenuItems, updateMenuItem } from '../apis';\r\nimport AuthContext from '../contexts/AuthContext';\r\nimport ImageDropzone from './ImageDropzone';\r\n\r\nconst MenuItemForm = ({ place, onDone, item = {} }) => {\r\n  const [categoryName, setCategoryName] = useState(\"\");\r\n  const [categoryFormShow, setCategoryFormShow] = useState(false);\r\n  \r\n  const [category, setCategory] = useState(item.category);\r\n  const [name, setName] = useState(item.name);\r\n  const [price, setPrice] = useState(item.price || 0);\r\n  const [description, setDescription] = useState(item.description);\r\n  const [image, setImage] = useState(item.image);\r\n  const [isAvailable, setIsAvailable] = useState(\r\n    item.is_available === undefined ? true : !!item.is_available\r\n  );\r\n\r\n  const target = useRef(null);\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const onAddCategory = async () => {\r\n    const json = await addCategory({ name: categoryName, place: place.id }, auth.token);\r\n    console.log(json);\r\n\r\n    if (json) {\r\n      toast(`Category ${json.name} was created.`, { type: \"success\"});\r\n      setCategory(json.id);\r\n      setCategoryName(\"\");\r\n      setCategoryFormShow(false);\r\n      onDone();\r\n    }\r\n  };\r\n\r\n  const onAddMenuItems = async () => {\r\n    const json = await addMenuItems({\r\n      place: place.id,\r\n      category,\r\n      name,\r\n      price,\r\n      description,\r\n      image,\r\n      is_available: isAvailable\r\n    }, auth.token);\r\n\r\n    console.log(json);\r\n\r\n    if (json) {\r\n      toast(`Menu Item ${json.name} was created`, { type: \"success\" });\r\n      setCategory(\"\");\r\n      setName(\"\");\r\n      setPrice(0);\r\n      setDescription(\"\");\r\n      setImage(\"\");\r\n      setIsAvailable(true);\r\n      onDone();\r\n    }\r\n  }\r\n\r\n  const onUpdateMenuItem = async () => {\r\n    const json = await updateMenuItem(\r\n      item.id,\r\n      {\r\n        place: place.id,\r\n        category,\r\n        name,\r\n        price,\r\n        description,\r\n        image,\r\n        is_available: isAvailable\r\n      },\r\n      auth.token\r\n    );\r\n\r\n    if (json) {\r\n      console.log(json);\r\n\r\n      toast(`Menu Item ${json.name} was updated`, { type: \"success\" });\r\n      setCategory(\"\");\r\n      setName(\"\");\r\n      setPrice(0)\r\n      setDescription(\"\");\r\n      setImage(\"\");\r\n      setIsAvailable(false);\r\n      onDone();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* CATEGORIES FORM */}\r\n      <Form.Group>\r\n        <Form.Label>Category</Form.Label>\r\n        <div className=\"d-flex align-items-center\">\r\n\r\n          <Form.Control as=\"select\" value={category} onChange={(e) => setCategory(e.target.value)}>\r\n            <option />\r\n            {place?.categories?.map((c) => (\r\n              <option key={c.id} value={c.id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n          </Form.Control>\r\n\r\n          <Button ref={target} variant=\"link\" onClick={() => setCategoryFormShow(true)}>\r\n            <RiPlayListAddFill size={25} />\r\n          </Button>\r\n\r\n          <Overlay \r\n            show={categoryFormShow} \r\n            target={target.current} \r\n            placement=\"bottom\" \r\n            rootClose \r\n            onHide={() => setCategoryFormShow(false)}\r\n          >\r\n            <Popover id=\"popover-contained\">\r\n              <Popover.Title as=\"h3\">Category</Popover.Title>\r\n              <Popover.Content>\r\n                <Form.Group>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Category Name\"\r\n                    value={categoryName}\r\n                    onChange={(e) => setCategoryName(e.target.value)}\r\n                  />\r\n                </Form.Group>\r\n                <Button variant=\"standard\" block onClick={onAddCategory}>\r\n                  Add Category\r\n                </Button>\r\n              </Popover.Content>\r\n            </Popover>\r\n            \r\n          </Overlay>\r\n\r\n\r\n        </div>\r\n      </Form.Group>\r\n    \r\n      {/* MENU ITEMS FORM */}\r\n      <Form.Group>\r\n        <Form.Label>Name</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"Enter Name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label>Price</Form.Label>\r\n        <Form.Control\r\n          type=\"number\"\r\n          placeholder=\"Enter Price\"\r\n          value={price}\r\n          onChange={(e) => setPrice(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label>Description</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder=\"Enter Description\"\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label>Image</Form.Label>\r\n        <ImageDropzone value={image} onChange={setImage} />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Check\r\n          type=\"checkbox\"\r\n          label=\"Is available?\"\r\n          checked={isAvailable}\r\n          onChange={(e) => setIsAvailable(e.target.checked)}\r\n        />\r\n      </Form.Group>\r\n      <Button \r\n        variant=\"standard\" \r\n        block \r\n        onClick={ item.id ? onUpdateMenuItem : onAddMenuItems}\r\n      >\r\n        { item.id ? \"Update Menu Item\" : \"+ Add Menu Item\" }\r\n      </Button>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default MenuItemForm;","import { Col, Button } from 'react-bootstrap';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { BiEdit } from 'react-icons/bi';\r\nimport { AiOutlineDelete } from 'react-icons/ai';\r\n\r\nconst Container = styled.div`\r\n  border-radius: 5px;\r\n  background-color: white;\r\n  margin-bottom: 30px;\r\n  box-shadow: 1px 1px 8px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  opacity: ${({active}) => (active ? 1 : 0.6)};\r\n  > div:first-child {\r\n    width: 40%;\r\n    border-top-left-radius: 5px;\r\n    border-bottom-left-radius: 5px;\r\n    background-size: cover;\r\n  }\r\n  > div:last-child {\r\n    padding: 15px 20px;\r\n    min-height: 150px;\r\n  }\r\n`;\r\n\r\nconst MenuItem = ({ item, onEdit, onRemove, onOrder, color }) => (\r\n  <Container active={item.is_available}>\r\n    <Col xs={5} style={{ backgroundImage: `url(${item.image})` }} />\r\n    <Col xs={7} className=\"d-flex flex-column justify-content-between w-100\">\r\n      <div>\r\n        <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n          <h4 className=\"mb-0\">\r\n            <b>{item.name}</b>\r\n          </h4>\r\n          <div>\r\n            { onEdit ? (\r\n              <Button variant=\"link\" onClick={onEdit}>\r\n                <BiEdit size={20} />\r\n              </Button>\r\n            ) : null }\r\n\r\n            { onRemove ? (\r\n              <Button variant=\"link\" onClick={onRemove}>\r\n                <AiOutlineDelete size={20} color=\"red\" />\r\n              </Button>\r\n            ) : null }\r\n          </div>\r\n        </div>\r\n        <p className=\"mb-4\">{item.description}</p>\r\n      </div>\r\n      <div className=\"d-flex justify-content-between align-items-end\">\r\n        <div>\r\n          <h5 className=\"mb-0 text-standard\">\r\n            <b style={{ color }}>${item.price}</b>\r\n          </h5>\r\n\r\n          {onOrder ? (\r\n            <Button \r\n              variant=\"standard\" \r\n              style={{ backgroundColor: color }} \r\n              className=\"mt-2\" \r\n              size=\"sm\" \r\n              onClick={() => onOrder(item)}\r\n            >\r\n              {!item.quantity ? \"Add to shopping cart\" : `Add one more (${item.quantity})`}\r\n            </Button>\r\n          ) : null}\r\n        </div>\r\n\r\n        {!item.is_available ? (<small className=\"text-secondary\">Not Available</small>) : null}\r\n\r\n      </div>\r\n    </Col>\r\n  </Container>\r\n);\r\n\r\nexport default MenuItem;","import { AiOutlineLink } from 'react-icons/ai';\r\nimport { Button } from 'react-bootstrap';\r\nimport QRCodeReact from 'qrcode.react';\r\nimport React, { useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useReactToPrint } from 'react-to-print';\r\n\r\nconst Container = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  background-color: rgba(255, 255, 255, 0.5);\r\n  > div {\r\n    margin: auto;\r\n  }\r\n`;\r\n\r\nconst ComponentToPrint = styled.div`\r\n  text-align: center;\r\n  margin-top: 200px;\r\n  h1 {\r\n    font-size: 100px;\r\n    font-weight: bold;\r\n    margin-bottom: 50px;\r\n  }\r\n  h2 {\r\n    font-size: 60px;\r\n    margin-bottom: 100px\r\n  }\r\n`;\r\n\r\nconst QRCode = ({ table, placeId }) => {\r\n  const componentRef = useRef();\r\n  const handlePrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  const url = `${window.location.origin}/menu/${placeId}/${table}`;\r\n\r\n  return (\r\n    <Container>\r\n      <QRCodeReact value={url} size={200} />\r\n      <Overlay>\r\n        <div className=\"d-flex\">\r\n          <Button variant=\"standard\" onClick={handlePrint} className=\"mr-2\">\r\n            {`Print Table ${table}`}\r\n          </Button>\r\n          <Button variant=\"standard\" href={`/menu/${placeId}/${table}`} target=\"_blank\">\r\n            <AiOutlineLink size={25} />\r\n          </Button>\r\n        </div>\r\n      </Overlay>\r\n\r\n      <div style={{ display: \"none\" }}>\r\n        <ComponentToPrint ref={componentRef}>\r\n          <h1>Table {table}</h1>\r\n          <h2>Scan for menu</h2>\r\n          <QRCodeReact value={url} size={500} />\r\n        </ComponentToPrint>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default QRCode;","import { Button } from 'react-bootstrap';\r\nimport styled from 'styled-components';\r\n\r\nconst OperationButton = styled(Button)`\r\n  width: 30px;\r\n  height: 30px;\r\n  margin: 0 10px;\r\n  font-size: 20px;\r\n  line-height: 18px;\r\n`;\r\n\r\nexport default OperationButton;","import React from 'react';\r\nimport { Modal, Container, Row, Col } from 'react-bootstrap';\r\nimport QRCode from './QRCode.js';\r\nimport OperationButton from './OperationButton';\r\n\r\nconst QRCodeModal = ({ show, onHide, place, onUpdatePlace }) => (\r\n  <Modal show={show} onHide={onHide} size=\"lg\" centered>\r\n    <Modal.Body className=\"text-center pt-4\">\r\n      <Container>\r\n        <h3>Tables QR Code</h3>\r\n        <div className=\"d-flex align-items-center mt-4 mb-4\">\r\n          <h5 className=\"mb-0 mr-2\">\r\n            Total tables: <b>{place.number_of_tables}</b>\r\n          </h5>\r\n\r\n          <OperationButton \r\n            variant=\"lightgray\"\r\n            size=\"sm\"\r\n            onClick={() => onUpdatePlace(place.number_of_tables - 1)}\r\n          >\r\n            -\r\n          </OperationButton>\r\n          <OperationButton \r\n            variant=\"lightgray\"\r\n            size=\"sm\"\r\n            onClick={() => onUpdatePlace(place.number_of_tables + 1)}\r\n          >\r\n            +\r\n          </OperationButton>\r\n        </div>\r\n\r\n        <Row>\r\n          {Array.from({ length: place.number_of_tables }, (_, i) => i + 1).map(\r\n            (table) => (\r\n              <Col key={table} lg={4} md={6} className=\"mb-4\">\r\n                <QRCode table={table} placeId={place.id} />\r\n              </Col>\r\n            )\r\n          )}\r\n        </Row>\r\n      </Container>\r\n    </Modal.Body>\r\n  </Modal>\r\n);\r\n\r\nexport default QRCodeModal;","import { IoMdArrowBack } from 'react-icons/io';\r\nimport { AiOutlineDelete, AiOutlineQrcode } from 'react-icons/ai';\r\nimport { RiFileList3Line } from 'react-icons/ri';\r\nimport { FiSettings } from 'react-icons/fi';\r\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport { \r\n  fetchPlace, \r\n  removePlace, \r\n  removeCategory, \r\n  removeMenuItem, \r\n  updatePlace \r\n} from '../apis';\r\nimport AuthContext from '../contexts/AuthContext';\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport MenuItemForm from '../containers/MenuItemForm';\r\nimport MenuItem from '../components/MenuItem';\r\nimport QRCodeModal from '../components/QRCodeModal';\r\n\r\nconst Panel = styled.div`\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: 1px 1px 10px rgba(0,0,0,0.05);\r\n`;\r\n\r\nconst Place = () => {\r\n  const [place, setPlace] = useState({});\r\n  const [menuItemFormShow, setMenuItemFormShow] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [qrCode, setQrCode] = useState(false);\r\n\r\n  const showModal = () => setMenuItemFormShow(true);\r\n  const hideModal = () => setMenuItemFormShow(false);\r\n\r\n  const showQRModal = () => setQrCode(true);\r\n  const hideQRModal = () => setQrCode(false);\r\n\r\n  const auth = useContext(AuthContext);\r\n  const params = useParams();\r\n  const history = useHistory();\r\n\r\n  const onBack = () => history.push(\"/places\");\r\n\r\n  const onFetchPlace = async () => {\r\n    const json = await fetchPlace(params.id, auth.token);\r\n    if (json) {\r\n      setPlace(json);\r\n    }\r\n  };\r\n\r\n  const onRemovePlace = () => {\r\n    const c = window.confirm(\"Are you sure?\");\r\n    if (c) {\r\n      removePlace(params.id, auth.token).then(onBack);\r\n    }\r\n  };\r\n\r\n  const onRemoveCategory = (id) => {\r\n    const c = window.confirm(\"Are you sure?\");\r\n    if (c) {\r\n      removeCategory(id, auth.token).then(onFetchPlace);\r\n    }\r\n  };\r\n\r\n  const onRemoveMenuItem = (id) => {\r\n    const c = window.confirm(\"Are you sure?\");\r\n    if (c) {\r\n      removeMenuItem(id, auth.token).then(onFetchPlace);\r\n    }\r\n  };\r\n\r\n  const onUpdatePlace = (tables) => {\r\n    updatePlace(place.id, { number_of_tables: tables }, auth.token).then(\r\n      (json) => {\r\n        if (json) {\r\n          setPlace(json);\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    onFetchPlace();\r\n  }, []);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <Row>\r\n        <Col lg={12}>\r\n          <div className=\"mb-4\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-4\">\r\n              <Button variant=\"link\" onClick={onBack}>\r\n                <IoMdArrowBack size={25} color=\"black\" />\r\n              </Button>\r\n              <h3 className=\"mb-0 ml-2 mr-2\">{place.name}</h3>\r\n\r\n              <Button variant=\"link\" onClick={onRemovePlace}>\r\n                <AiOutlineDelete size={25} color=\"red\" />\r\n              </Button>\r\n            </div>\r\n\r\n            <Button variant=\"link\" onClick={showQRModal}>\r\n              <AiOutlineQrcode size={25} />\r\n            </Button>\r\n            <Button variant=\"link\" href={`/places/${params.id}/orders`}>\r\n              <RiFileList3Line size={25} />\r\n            </Button>\r\n            <Button variant=\"link\" href={`/places/${params.id}/settings`}>\r\n              <FiSettings size={25} />\r\n            </Button>\r\n          </div>\r\n        </Col>\r\n\r\n        <Col md={4}>\r\n          <Panel>\r\n            <MenuItemForm place={place} onDone={onFetchPlace} />\r\n          </Panel>\r\n        </Col>\r\n\r\n        <Col md={8}>\r\n          {place?.categories?.map((category) => (\r\n            <div key={category.id} className=\"mb-5\">\r\n              <div className=\"d-flex align-items-center mb-4\">\r\n                <h4 className=\"mb-0 mr-2\">\r\n                  <b>{category.name}</b>\r\n                </h4>\r\n                <Button variant=\"link\" onClick={() => onRemoveCategory(category.id)}>\r\n                  <AiOutlineDelete size={25} color=\"red\" />\r\n                </Button>\r\n              </div>\r\n              {category.menu_items.map((item) => (\r\n                <MenuItem \r\n                  key={item.id} \r\n                  item={item} \r\n                  onEdit={() => {\r\n                    setSelectedItem(item);\r\n                    showModal()\r\n                  }}\r\n                  onRemove={() => onRemoveMenuItem(item.id)}\r\n                />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </Col>\r\n      </Row>\r\n    \r\n      <Modal show={menuItemFormShow} onHide={hideModal} centered>\r\n        <Modal.Body>\r\n          <h4 className=\"text-center\">Menu Item</h4>\r\n          <MenuItemForm \r\n            place={place}\r\n            onDone={() => {\r\n              onFetchPlace();\r\n              hideModal()\r\n            }}\r\n            item={selectedItem}\r\n          />\r\n        </Modal.Body>\r\n      </Modal>\r\n\r\n      <QRCodeModal \r\n        show={qrCode} \r\n        onHide={hideQRModal} \r\n        place={place} \r\n        centered \r\n        onUpdatePlace={onUpdatePlace}\r\n      />\r\n    </MainLayout>\r\n  )\r\n};\r\n\r\nexport default Place;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport MenuItem from './MenuItem';\r\n\r\nconst Place = styled.div`\r\n  text-align: center;\r\n  img {\r\n    border-radius: 5px;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  b, p {\r\n    ${({ font }) => font && `font-family: ${font};` }\r\n  }\r\n`;\r\n\r\nconst MenuList = ({ place, shoppingCart = {}, onOrder, font = \"\", color = \"\" }) => {\r\n  return (\r\n    <Container font={font}>\r\n      <Place>\r\n        <img src={place.image} width={100} height={100} />\r\n        <h3><b>{place.name}</b></h3>\r\n      </Place>\r\n      {place?.categories\r\n        ?.filter(\r\n          (category) => category.menu_items.filter((i) => i.is_available).length\r\n        )\r\n        .map((category) => (\r\n          <div key={category.id} className=\"mt-5\">\r\n            <h4 className=\"mb-4\">\r\n              <b>{category.name}</b>\r\n            </h4>\r\n            {category.menu_items\r\n              .filter((item) => item.is_available)\r\n              .map((item) => (\r\n                <MenuItem \r\n                  key={item.id} \r\n                  item={{  \r\n                    ...item,\r\n                    quantity: shoppingCart[item.id]?.quantity,\r\n                  }} \r\n                  onOrder={onOrder}\r\n                  color={color}\r\n                />\r\n              ))\r\n            }\r\n          </div>\r\n        ))\r\n      }\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default MenuList;","import React, { useContext, useState } from 'react';\r\nimport {loadStripe} from '@stripe/stripe-js';\r\nimport {\r\n  CardElement,\r\n  Elements,\r\n  useStripe,\r\n  useElements,\r\n} from '@stripe/react-stripe-js';\r\n\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { toast } from 'react-toastify';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { createPaymentIntent } from '../apis';\r\nimport AuthContext from '../contexts/AuthContext';\r\n\r\nconst PaymentForm = ({ amount, items, onDone, color }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const auth = useContext(AuthContext);\r\n  const params = useParams();\r\n\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const {error, paymentMethod} = await stripe.createPaymentMethod({\r\n      type: 'card',\r\n      card: elements.getElement(CardElement),\r\n    });\r\n\r\n    if (!error) {\r\n      setLoading(true);\r\n      const json = await createPaymentIntent({\r\n        payment_method: paymentMethod,\r\n        amount,\r\n        place: params.id,\r\n        table: params.table,\r\n        detail: items\r\n      }, auth.token);\r\n\r\n      if (json?.success) {\r\n        toast(`Your order #${json.order} is processing`, {type: \"success\"});\r\n        onDone();\r\n        setLoading(false);\r\n      } else if (json?.error) {\r\n        toast(json.error, {type: \"error\"});\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit}>\r\n      <CardElement options={{ hidePostalCode: true }} />\r\n      <Button variant=\"standard\" style={{ backgroundColor: color }} className=\"mt-4\" block type=\"submit\" disabled={loading}>\r\n        {loading ? \"Processing...\" : \"Pay\"}\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nconst stripePromise = loadStripe('pk_test_51MvZyLEUP5DwlQwsphTuRd99moQ0U1Eo19LA3YTwL5SYlQm16ygMCeCYWmZjU4V10OcmhmDVuhnYzx5gofEE4FAV002KdCGsxi');\r\n\r\nconst StripeContext = (props) => (\r\n  <Elements stripe={stripePromise}>\r\n    <PaymentForm {...props} />\r\n  </Elements>\r\n);\r\n\r\nexport default StripeContext;\r\n","import React, { useMemo } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport OperationButton from './OperationButton';\r\nimport PaymentForm from '../containers/PaymentForm';\r\n\r\nconst ShoppingCart = ({ items, onAdd, onRemove, onPaymentDone, color }) => {\r\n  const totalPrice = useMemo(\r\n    () => items.map((i) => i.quantity * i.price).reduce((a,b) => a + b, 0),\r\n    [items]\r\n  );\r\n  \r\n  return (\r\n    <>\r\n      <h3 className=\"text-center mb-4\">\r\n        <b>Your Order</b>\r\n      </h3>\r\n      <Card>\r\n        <Card.Body>\r\n          {items.map((item) => (\r\n            <div key={item.id} className=\"d-flex mb-4 align-items-center\">\r\n              <div className=\"flex-grow-1\">\r\n                <p className=\"mb-0\">\r\n                  <b>{item.name}</b>\r\n                </p>\r\n                <span>${item.price}</span>\r\n              </div>\r\n\r\n              <div className=\"d-flex align-items-center\">\r\n                <OperationButton\r\n                  variant=\"lightgray\"\r\n                  size=\"sm\"\r\n                  onClick={() => onRemove(item)}\r\n                >\r\n                  -\r\n                </OperationButton>\r\n                <span>{item.quantity}</span>\r\n                <OperationButton\r\n                  variant=\"lightgray\"\r\n                  size=\"sm\"\r\n                  onClick={() => onAdd(item)}\r\n                >\r\n                  +\r\n                </OperationButton>\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <hr/>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <h5><b>Total</b></h5>\r\n            <h5><b>${totalPrice}</b></h5>\r\n          </div>\r\n\r\n          <hr className=\"mb-4\" />\r\n          <PaymentForm amount={totalPrice} items={items} onDone={onPaymentDone} color={color} />\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;","import { Container, Row, Col, Button } from 'react-bootstrap';\r\nimport { IoCloseOutline } from 'react-icons/io5';\r\nimport { useParams } from 'react-router-dom';\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { fetchPlace } from '../apis';\r\nimport styled from 'styled-components';\r\n\r\nimport MenuList from '../components/MenuList';\r\nimport ShoppingCart from '../components/ShoppingCart';\r\n\r\nconst OrderButton = styled(Button)`\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  border-radius: 50%;\r\n  box-shadow: 1px 1px 8px rgba(0,0,0,0.2);\r\n  width: 60px;\r\n  height: 60px;\r\n`;\r\n\r\nconst Menu = () => {\r\n  const [place, setPlace] = useState({});\r\n  const [shoppingCart, setShoppingCart] = useState({});\r\n  const [showShoppingCart, setShowShoppingCart] = useState(false);\r\n\r\n  const params = useParams();\r\n\r\n  const onFetchPlace = async () => {\r\n    const json = await fetchPlace(params.id);\r\n    console.log(json);\r\n    if (json) {\r\n      setPlace(json);\r\n    }\r\n  };\r\n\r\n  const onAddItemtoShoppingCart = (item) => {\r\n    setShoppingCart({\r\n      ...shoppingCart,\r\n      [item.id]: {\r\n        ...item,\r\n        quantity: (shoppingCart[item.id]?.quantity || 0) + 1,\r\n      }\r\n    });\r\n  }\r\n\r\n  const onRemoveItemToShoppingCart = (item) => {\r\n    if (totalQuantity === 1) {\r\n      setShowShoppingCart(false);\r\n    }\r\n\r\n    setShoppingCart({\r\n      ...shoppingCart,\r\n      [item.id]: {\r\n        ...item,\r\n        quantity: (shoppingCart[item.id]?.quantity || 0) - 1,\r\n      }\r\n    });\r\n  }\r\n\r\n  const onPaymentDone = () => {\r\n    setShoppingCart({});\r\n    setShowShoppingCart(false);\r\n  }\r\n\r\n  const totalQuantity = useMemo(\r\n    () => Object.keys(shoppingCart)\r\n            .map((i) => shoppingCart[i].quantity)\r\n            .reduce((a,b) => a + b, 0),\r\n      [shoppingCart]\r\n  );\r\n\r\n  useEffect(() => {\r\n    onFetchPlace();\r\n  }, []);\r\n\r\n  return (\r\n    <Container className=\"mt-5 mb-5\">\r\n      <Row className=\"justify-content-center\">\r\n        <Col lg={8}>\r\n          {showShoppingCart ? (\r\n            <ShoppingCart \r\n              items={Object.keys(shoppingCart)\r\n                .map((key) => shoppingCart[key])\r\n                .filter((item) => item.quantity > 0)\r\n              }\r\n              onAdd={onAddItemtoShoppingCart}\r\n              onRemove={onRemoveItemToShoppingCart}\r\n              onPaymentDone={onPaymentDone}\r\n              color={place.color}\r\n            />\r\n          ) : (\r\n            <MenuList \r\n              place={place} \r\n              shoppingCart={shoppingCart} \r\n              onOrder={onAddItemtoShoppingCart}\r\n              color={place.color} \r\n              font={place.font}\r\n            />\r\n          )}\r\n          \r\n        </Col>\r\n      </Row>\r\n\r\n      {totalQuantity ? (\r\n        <OrderButton \r\n          variant=\"standard\"\r\n          style={{ backgroundColor: place.color }} \r\n          onClick={() => setShowShoppingCart(!showShoppingCart)}>\r\n          {showShoppingCart ? <IoCloseOutline size={25} /> : totalQuantity}\r\n        </OrderButton>\r\n      ) : null}\r\n    </Container>\r\n  )\r\n};\r\n\r\nexport default Menu;","import { Card, Button } from 'react-bootstrap';\r\nimport React from 'react';\r\n\r\nconst Order = ({ order, onComplete }) => {\r\n  return (\r\n    <Card className=\"mb-3\">\r\n      <Card.Header className=\"d-flex justify-content-between\">\r\n        <span>{`Order #${order.id} - Table #${order.table}`}</span>\r\n        <span><b>${order.amount}</b></span>\r\n      </Card.Header>\r\n      <Card.Body className=\"d-flex justify-content-between\">\r\n        <div>\r\n          {JSON.parse(order.detail).map((item) => (\r\n            <div className=\"mb-2\">\r\n              <span>x{item.quantity}</span>\r\n              <img \r\n                src={item.image} \r\n                width={30} \r\n                height={30} \r\n                style={{ borderRadius: 3, margin: \"0 10px\" }} \r\n              />\r\n              <span>{item.name}</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div>\r\n          {onComplete ? (\r\n            <Button variant=\"standard\" size=\"md\" onClick={onComplete}>\r\n              Done\r\n            </Button>\r\n          ) : null}\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Order;","import { IoMdArrowBack } from 'react-icons/io';\r\nimport { Row, Col, Button } from 'react-bootstrap';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\n\r\nimport { fetchOrders, completeOrder } from '../apis';\r\nimport AuthContext from '../contexts/AuthContext';\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport Order from '../components/Order';\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const onBack = () => history.push(`/places/${params.id}`);\r\n\r\n  const onFetchOrders = async () => {\r\n    const json = await fetchOrders(params.id, auth.token);\r\n    if (json) {\r\n      console.log(json);\r\n      setOrders(json);\r\n    }\r\n  }\r\n\r\n  const onCompleteOrder = async (orderId) => {\r\n    const json = await completeOrder(orderId, { status: \"completed\"}, auth.token);\r\n    if (json) {\r\n      onFetchOrders();\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    onFetchOrders();\r\n    const interval = setInterval(() => {\r\n      onFetchOrders();\r\n    }, 5000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"d-flex align-items-center mb-4\">\r\n        <Button variant=\"link\" onClick={onBack}>\r\n          <IoMdArrowBack size={25} color=\"black\" />\r\n        </Button>\r\n        <h3 className=\"mb-0 ml-2 mr-2\">My Orders</h3>\r\n      </div>\r\n\r\n      <Row className=\"justify-content-center\">\r\n        {orders\r\n          ?.filter((order) => order.status === \"processing\")\r\n          ?.map((order) => (\r\n          <Col key={order.id} lg={8}>\r\n            <Order order={order} onComplete={() => onCompleteOrder(order.id)} />\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nexport default Orders;","import { IoMdArrowBack } from 'react-icons/io';\r\nimport { Row, Col, Button, Form } from 'react-bootstrap';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { ChromePicker } from 'react-color';\r\nimport styled from 'styled-components';\r\nimport AuthContext from '../contexts/AuthContext';\r\nimport {toast} from 'react-toastify';\r\n\r\nimport { fetchPlace, updatePlace } from '../apis';\r\nimport MainLayout from '../layouts/MainLayout';\r\nimport MenuList from '../components/MenuList';\r\n\r\nconst Panel = styled.div`\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n  box-shadow: 1px 1px 10px rgba(0,0,0,0.05);\r\n`;\r\n\r\nconst MenuSettings = () => {\r\n  const [place, setPlace] = useState({});\r\n  const [font, setFont] = useState(\"\");\r\n  const [color, setColor] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const params = useParams();\r\n  const history = useHistory();\r\n  const auth = useContext(AuthContext);\r\n\r\n  const onBack = () => history.push(`/places/${params.id}`);\r\n\r\n  const onFetchPlace = async () => {\r\n    const json = await fetchPlace(params.id);\r\n    if (json) {\r\n      setPlace(json);\r\n      setFont(json.font);\r\n      setColor(json.color);\r\n    }\r\n  }\r\n\r\n  const onUpdatePlace = async () => {\r\n    setLoading(true);\r\n    const json = await updatePlace(place.id, { font, color }, auth.token);\r\n    if (json) {\r\n      toast(\"New settings is updated\", {type: \"success\"});\r\n      setPlace(json);\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    onFetchPlace();\r\n  }, []);\r\n\r\n  return (\r\n    <MainLayout>\r\n      <div className=\"d-flex align-items-center mb-4\">\r\n        <Button variant=\"link\" onClick={onBack}>\r\n          <IoMdArrowBack size={25} color=\"black\" />\r\n        </Button>\r\n        <h3 className=\"mb-0 mr-2 ml-2\">Menu Settings</h3>\r\n      </div>\r\n\r\n      <Row>\r\n        {/* LEFT SIDE */}\r\n        <Col md={4}>\r\n          <Panel>\r\n            <Form.Group>\r\n              <Form.Label>Font</Form.Label>\r\n              <Form.Control as=\"select\" value={font} onChange={(e) => setFont(e.target.value)}>\r\n                <option>Lato</option>\r\n                <option>Teko</option>\r\n                <option>Lobster</option>\r\n                <option>Caveat</option>\r\n                <option>Indie Flower</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n            \r\n            <Form.Group>\r\n              <Form.Label>Color</Form.Label>\r\n              <ChromePicker\r\n                color={color}\r\n                onChange={(value) => setColor(value.hex)}\r\n                disableAlpha\r\n                width=\"100%\"\r\n              />\r\n            </Form.Group>\r\n\r\n            <Button className=\"mt-4\" variant=\"standard\" block onClick={onUpdatePlace} disabled={loading}>\r\n              Save Setings\r\n            </Button>\r\n          </Panel>\r\n        </Col>\r\n\r\n        {/* RIGHT SIDE */}\r\n        <Col md={8}>\r\n          <MenuList place={place} font={font} color={color} onOrder={() => []} />\r\n        </Col>\r\n      </Row>\r\n    </MainLayout>\r\n  )\r\n}\r\n\r\nexport default MenuSettings;","import { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport React from 'react';\r\n\r\nimport { AuthProvider } from '../contexts/AuthContext';\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\nimport Home from '../pages/Home';\r\nimport Login from '../pages/Login';\r\nimport Register from '../pages/Register';\r\nimport Places from '../pages/Places';\r\nimport Place from '../pages/Place';\r\nimport Menu from '../pages/Menu';\r\nimport Orders from '../pages/Orders';\r\nimport MenuSettings from '../pages/MenuSettings';\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <BrowserRouter>\r\n        <Switch>\r\n          <Route exact path='/'>\r\n            <Home/>\r\n          </Route>\r\n          <Route exact path='/login'>\r\n            <Login/>\r\n          </Route>\r\n          <Route exact path='/register'>\r\n            <Register/>\r\n          </Route>\r\n          <Route exact path='/menu/:id/:table'>\r\n            <Menu/>\r\n          </Route>\r\n\r\n          <PrivateRoute exact path='/places/:id'>\r\n            <Place/>\r\n          </PrivateRoute>\r\n          <PrivateRoute exact path='/places'>\r\n            <Places/>\r\n          </PrivateRoute>\r\n          <PrivateRoute exact path='/places/:id/orders'>\r\n            <Orders/>\r\n          </PrivateRoute>\r\n          <PrivateRoute exact path='/places/:id/settings'>\r\n            <MenuSettings/>\r\n          </PrivateRoute>\r\n        </Switch>\r\n      </BrowserRouter>\r\n      <ToastContainer/>\r\n    </AuthProvider>\r\n  )\r\n}\r\n\r\nexport default App;","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './router/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}